<launch>
  <!--Get arguments at launch time-->
  <arg name="nao_ip" default="127.0.0.1"/>
  <arg name="nao_port" default="9559" />
  <arg name="record" default="true" />

  <!-- Set parameters -->
  <param name="nao_ip" value="$(arg nao_ip)" />
  <param name="nap_port" value="$(arg nao_port)" />

  <!--Launch all NAO puppet nodes -->
  <node pkg="moveNao" type="move.py" name="NaoBehaviour" required="true"  />
  <node pkg="nao_puppet" type="naomotion_node.py" name="NaoMotion" required="true"/>
  <node pkg="nao_puppet" type="naomic_node.py" name="NaoMic" required="true"/>
  <node pkg="nao_puppet" type="naoposture_node.py" name="NaoPosture" required="true"/>
  <node pkg="nao_puppet" type="naospeech_node.py" name="NaoSpeech" required="true"/>
  <node pkg="nao_puppet" type="naocamera_node.py" name="NaoCamera" required="true" output="screen"/>
  <node pkg="nao_puppet" type="naostatus_node.py" name="NaoStatus" required="true" output="screen"/>
  <node pkg="nao_puppet" type="puppet_ui_node.py" name="PuppetUI" required="true" output="screen"/>

  <!-- Launch rosbag recorder -->
   <node pkg="rosbag" type="record" name="rosbag_recorder" args='-a -o $(find nao_puppet)/share/rosbags/nao_puppet' required="true" if="$(arg record)"/>
</launch>
